<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tihi</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1 class="title">Vil du vÃ¦re min valentin?</h1>
        
        <div class="flowers-container">
            <div class="flower flower-1">
                <div class="stem"></div>
                <div class="petals">
                    <div class="petal"></div>
                    <div class="petal"></div>
                    <div class="petal"></div>
                    <div class="petal"></div>
                    <div class="petal"></div>
                    <div class="petal"></div>
                </div>
                <div class="center"></div>
            </div>
            
            <div class="flower flower-2">
                <div class="stem"></div>
                <div class="petals">
                    <div class="petal"></div>
                    <div class="petal"></div>
                    <div class="petal"></div>
                    <div class="petal"></div>
                    <div class="petal"></div>
                    <div class="petal"></div>
                </div>
                <div class="center"></div>
            </div>
            
            <div class="flower flower-3">
                <div class="stem"></div>
                <div class="petals">
                    <div class="petal"></div>
                    <div class="petal"></div>
                    <div class="petal"></div>
                    <div class="petal"></div>
                    <div class="petal"></div>
                    <div class="petal"></div>
                </div>
                <div class="center"></div>
            </div>
        </div>
        
        <div class="buttons">
            <button class="btn yes-btn" onclick="playYippee()">Ja! ðŸ’•</button>
            <button class="btn no-btn" onclick="showError()">Nej</button>
        </div>
    </div>
    
    <!-- Modal Popup -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal()">&times;</span>
            <h2>Yay! ðŸ’•</h2>
            <p>Skriv dit navn og e-mail, sÃ¥ jeg ved hvem du er!</p>
            <form id="valentine-form" action="https://api.web3forms.com/submit" method="POST">
                <input type="hidden" name="access_key" value="c90457c4-884b-4246-b29c-55c28d005477">
                <input type="hidden" name="subject" value="Ny valentin! ðŸ’•">
                <input type="hidden" name="from_name" value="Valentin Side">
                <div class="form-group">
                    <label for="name">Navn</label>
                    <input type="text" id="name" name="name" placeholder="Dit navn" required>
                </div>
                <div class="form-group">
                    <label for="email">E-mail</label>
                    <input type="email" id="email" name="email" placeholder="Din e-mail" required>
                </div>
                <button type="submit" class="btn submit-btn">Send ðŸ’Œ</button>
            </form>
            <p class="success-message" id="success-msg" style="display: none;">Tak! Jeg har modtaget din besked! ðŸ’•</p>
        </div>
    </div>
    
    <audio id="yippee-audio" src="yippee.mp3"></audio>
    
    <script>
        function playYippee() {
            const audio = document.getElementById('yippee-audio');
            audio.currentTime = 0;
            audio.play();
            
            // Add celebration effect
            document.body.classList.add('celebrate');
            createHearts();
            
            // Show modal after a short delay
            setTimeout(() => {
                document.getElementById('modal').style.display = 'flex';
            }, 1000);
        }
        
        function showError() {
            alert("Fejl: Denne knap fungerer ikke! \n\nPrÃ¸v den anden knap i stedet...");
        }
        
        function closeModal() {
            document.getElementById('modal').style.display = 'none';
        }
        
        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('modal');
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        }
        
        // Handle form submission
        document.getElementById('valentine-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            
            fetch(this.action, {
                method: 'POST',
                body: formData,
                headers: {
                    'Accept': 'application/json'
                }
            }).then(response => {
                if (response.ok) {
                    document.getElementById('valentine-form').style.display = 'none';
                    document.getElementById('success-msg').style.display = 'block';
                    createHearts();
                } else {
                    alert('Noget gik galt. PrÃ¸v igen!');
                }
            }).catch(error => {
                alert('Noget gik galt. PrÃ¸v igen!');
            });
        });
        
        function createHearts() {
            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.className = 'floating-heart';
                    heart.innerHTML = 'â¤ï¸';
                    heart.style.left = Math.random() * 100 + 'vw';
                    heart.style.animationDuration = (Math.random() * 2 + 2) + 's';
                    document.body.appendChild(heart);
                    
                    setTimeout(() => heart.remove(), 4000);
                }, i * 100);
            }
        }
    </script>
</body>
</html>
